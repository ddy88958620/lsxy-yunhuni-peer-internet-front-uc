function showmodal(){$("#showtips").hide();var e=$('input[name="mobile"]').val();$("#mobile_number").html(e),$("#second-codeblock").length>0&&$("#second-codeblock").html(""),$(".tips-error").length>0&&$(".tips-error").html(""),$("#mobileCode").val(""),$("#shadow-bg").fadeIn(),$("#modal-mobile").fadeIn()}function tipsmsg(e,t){t=null==t||""==t?"showtips":t,$("#"+t).html(e),$("#"+t).show()}function settime(e){return 0==countdown?(e.removeAttr("disabled"),e.html("发送验证码"),void(countdown=60)):(e.attr("disabled","true"),e.html("重新发送("+countdown+")"),countdown--,void setTimeout(function(){settime(e)},1e3))}function regMobile(e){return reg=/^(13[0-9]|14[0-9]|15[0-9]|18[0-9]|17[0-9])\d{8}$/,!!reg.test(e)}var countdown=60;$("#modal-hidden").click(function(){countdown=0,$("#shadow-bg").fadeOut(),$("#modal-mobile").fadeOut()}),$("#send-code").click(function(){send_mobile_code()&&settime($(this))}),$(document).ready(function(){$("#form-username").val(""),$("#defaultForm").bootstrapValidator({message:"",feedbackIcons:{},submitHandler:function(){},fields:{username:{icon:!1,selector:"#form-username",message:"用户名无效",validators:{notEmpty:{message:"用户名不能为空"},stringLength:{min:2,max:25,message:"用户名长度为2-25位"},callback:{message:"用户名不能为纯数字或包含特殊字符",callback:function(e,t){var o=/^[0-9]*$|[`~!@#$%^&*()+=|{}':;',\[\].<>\/?~！@#￥%……&*（）——+|{}【】‘；：”“’。，、？]/im;return!(e.length>=2&&e.length<=25&&o.test(e))}}}},email:{selector:"#form-email",validators:{notEmpty:{message:"邮箱地址不能为空"},regexp:{regexp:/^[a-zA-Z0-9._%+-]+@(?!.*\.\..*)[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,message:"请输入正确的邮箱地址格式"}}},mobile:{selector:"#form-mobile",validators:{notEmpty:{message:"手机号不能为空"},regexp:{regexp:/^(13[0-9]|14[0-9]|15[0-9]|18[0-9]|17[0-9])\d{8}$/,message:"请输入正确的手机格式"}}}}}),$("#validateBtn").click(function(){if(!document.getElementById("registerRead").checked)return $("#registerReadMsg").show(),!1;$("#registerReadMsg").hide(),$("#defaultForm").bootstrapValidator("validate");var e=$("#defaultForm").data("bootstrapValidator").isValid();if(console.log(e),1==e){var t=reg_isexit();if(0==t)return!1;showmodal()}}),$("#emailForm").bootstrapValidator({message:"",feedbackIcons:{},submitHandler:function(){},fields:{email:{selector:"#email",validators:{notEmpty:{message:"邮箱地址不能为空"},regexp:{regexp:/^[a-zA-Z0-9._%+-]+@(?!.*\.\..*)[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,message:"请输入正确的邮箱地址格式"}}}}}),$("#mobileForm").bootstrapValidator({message:"",feedbackIcons:{},fields:{mobile:{selector:"#mobile",validators:{notEmpty:{message:"手机号不能为空"},regexp:{regexp:/^(13[0-9]|14[0-9]|15[0-9]|18[0-9]|17[0-9])\d{8}$/,message:"请输入正确的手机格式"}}},code:{selector:"#code",validators:{notEmpty:{message:"验证码不能为空"},stringLength:{min:4,max:4,message:"请输入四位数的手机验证码"}}}}}),$("#mobileBtn").click(function(){$("#mobileForm").bootstrapValidator("validate");var e=$("#mobileForm").data("bootstrapValidator").isValid();if(1==e){var t=reg_code();if(0==t)return!1}})}),$("input").keyup(function(){$(".tips-error").hide()});