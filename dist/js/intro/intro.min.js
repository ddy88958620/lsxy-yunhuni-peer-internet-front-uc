!function(t,e){"object"==typeof exports?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t)}(this,function(t){function e(t){this._targetElement=t,this._options={nextLabel:"Next &rarr;",prevLabel:"&larr; Back",skipLabel:"Skip",doneLabel:"Done",tooltipPosition:"bottom",tooltipClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!0,keyboardNavigation:!0,showButtons:!0,showBullets:!0}}function n(){if("undefined"==typeof this._currentStep?this._currentStep=0:++this._currentStep,this._introItems.length<=this._currentStep)"function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),i.call(this,this._targetElement);else{var t=this._introItems[this._currentStep];"undefined"!=typeof this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,t.element),l.call(this,t)}}function o(){if(0===this._currentStep)return!1;var t=this._introItems[--this._currentStep];"undefined"!=typeof this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,t.element),l.call(this,t)}function i(t){var e=t.querySelector(".introjs-overlay");if(e.style.opacity=0,setTimeout(function(){e.parentNode&&e.parentNode.removeChild(e)},500),(t=t.querySelector(".introjs-helperLayer"))&&t.parentNode.removeChild(t),(t=document.querySelector(".introjs-showElement"))&&(t.className=t.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,"")),(t=document.querySelectorAll(".introjs-fixParent"))&&0<t.length)for(var n=t.length-1;0<=n;n--)t[n].className=t[n].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");window.removeEventListener?window.removeEventListener("keydown",this._onKeyDown,!0):document.detachEvent&&document.detachEvent("onkeydown",this._onKeyDown),this._currentStep=void 0}function r(t,e,n){if(e.style.top=null,e.style.right=null,e.style.bottom=null,e.style.left=null,this._introItems[this._currentStep]){var o="",o=this._introItems[this._currentStep],o="string"==typeof o.tooltipClass?o.tooltipClass:this._options.tooltipClass;switch(e.className=("introjs-tooltip "+o).replace(/^\s+|\s+$/g,""),this._introItems[this._currentStep].position){case"top":e.style.left="15px",e.style.top="-"+(p(e).height+10)+"px",n.className="introjs-arrow bottom";break;case"right":e.style.left=p(t).width+20+"px",n.className="introjs-arrow left";break;case"left":e.style.top=null,e.style.right=p(t).width+20+"px",n.className="introjs-arrow right";break;default:e.style.bottom="-"+(p(e).height+10)+"px",n.className="introjs-arrow top"}}}function s(t){if(t&&this._introItems[this._currentStep]){var e=p(this._introItems[this._currentStep].element);t.setAttribute("style","width: "+e.width+"px; height:"+e.height+"px; top:"+e.top+"px;left: "+e.left+"px;")}}function l(t){var e;"undefined"!=typeof this._introChangeCallback&&this._introChangeCallback.call(this,t.element);var l=this,c=document.querySelector(".introjs-helperLayer");if(p(t.element),null!=c){var u=c.querySelector(".introjs-helperNumberLayer"),h=c.querySelector(".introjs-tooltiptext"),d=c.querySelector(".introjs-arrow"),m=c.querySelector(".introjs-tooltip"),f=c.querySelector(".introjs-skipbutton"),b=c.querySelector(".introjs-prevbutton"),y=c.querySelector(".introjs-nextbutton");m.style.opacity=0,s.call(l,c);var _=document.querySelectorAll(".introjs-fixParent");if(_&&0<_.length)for(e=_.length-1;0<=e;e--)_[e].className=_[e].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");e=document.querySelector(".introjs-showElement"),e.className=e.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,""),l._lastShowElementTimer&&clearTimeout(l._lastShowElementTimer),l._lastShowElementTimer=setTimeout(function(){null!=u&&(u.innerHTML=t.step),h.innerHTML=t.intro,r.call(l,t.element,m,d),c.querySelector(".introjs-bullets li > a.active").className="",c.querySelector('.introjs-bullets li > a[data-stepnumber="'+t.step+'"]').className="active",m.style.opacity=1},350)}else{var f=document.createElement("div"),_=document.createElement("div"),g=document.createElement("div"),b=document.createElement("div"),y=document.createElement("div"),v=document.createElement("div");f.className="introjs-helperLayer",s.call(l,f),this._targetElement.appendChild(f),_.className="introjs-arrow",b.className="introjs-tooltiptext",b.innerHTML=t.intro,y.className="introjs-bullets",!1===this._options.showBullets&&(y.style.display="none");var w=document.createElement("ul");e=0;for(var C=this._introItems.length;e<C;e++){var j=document.createElement("li"),k=document.createElement("a");k.onclick=function(){l.goToStep(this.getAttribute("data-stepnumber"))},0===e&&(k.className="active"),k.href="javascript:void(0);",k.innerHTML="&nbsp;",k.setAttribute("data-stepnumber",this._introItems[e].step),j.appendChild(k),w.appendChild(j)}y.appendChild(w),v.className="introjs-tooltipbuttons",!1===this._options.showButtons&&(v.style.display="none"),g.className="introjs-tooltip",g.appendChild(b),g.appendChild(y),1==this._options.showStepNumbers&&(e=document.createElement("span"),e.className="introjs-helperNumberLayer",e.innerHTML=t.step,f.appendChild(e)),g.appendChild(_),f.appendChild(g),y=document.createElement("a"),y.onclick=function(){l._introItems.length-1!=l._currentStep&&n.call(l)},y.href="javascript:void(0);",y.innerHTML=this._options.nextLabel,b=document.createElement("a"),b.onclick=function(){0!=l._currentStep&&o.call(l)},b.href="javascript:void(0);",b.innerHTML=this._options.prevLabel,f=document.createElement("a"),f.className="introjs-button introjs-skipbutton",f.href="javascript:void(0);",f.innerHTML=this._options.skipLabel,f.onclick=function(){l._introItems.length-1==l._currentStep&&"function"==typeof l._introCompleteCallback&&l._introCompleteCallback.call(l),l._introItems.length-1!=l._currentStep&&"function"==typeof l._introExitCallback&&l._introExitCallback.call(l),i.call(l,l._targetElement)},v.appendChild(f),1<this._introItems.length&&(v.appendChild(b),v.appendChild(y)),g.appendChild(v),r.call(l,t.element,g,_)}for(0==this._currentStep?(b.className="introjs-button introjs-prevbutton introjs-disabled",y.className="introjs-button introjs-nextbutton",f.innerHTML=this._options.skipLabel):this._introItems.length-1==this._currentStep?(f.innerHTML=this._options.doneLabel,b.className="introjs-button introjs-prevbutton",y.className="introjs-button introjs-nextbutton introjs-disabled"):(b.className="introjs-button introjs-prevbutton",y.className="introjs-button introjs-nextbutton",f.innerHTML=this._options.skipLabel),y.focus(),t.element.className+=" introjs-showElement",e=a(t.element,"position"),"absolute"!==e&&"relative"!==e&&(t.element.className+=" introjs-relativePosition"),e=t.element.parentNode;null!=e&&"body"!==e.tagName.toLowerCase();)_=a(e,"z-index"),/[0-9]+/.test(_)&&(e.className+=" introjs-fixParent"),e=e.parentNode;e=t.element.getBoundingClientRect(),0<=e.top&&0<=e.left&&e.bottom+80<=window.innerHeight&&e.right<=window.innerWidth||(g=t.element.getBoundingClientRect(),e=void 0!=window.innerWidth?window.innerHeight:document.documentElement.clientHeight,_=g.bottom-(g.bottom-g.top),g=g.bottom-e,0>_||t.element.clientHeight>e?window.scrollBy(0,_-30):window.scrollBy(0,g+100))}function a(t,e){var n="";return t.currentStyle?n=t.currentStyle[e]:document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(t,null).getPropertyValue(e)),n&&n.toLowerCase?n.toLowerCase():n}function c(t){var e=document.createElement("div"),n="",o=this;if(e.className="introjs-overlay","body"===t.tagName.toLowerCase())n+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",e.setAttribute("style",n);else{var r=p(t);r&&(n+="width: "+r.width+"px; height:"+r.height+"px; top:"+r.top+"px;left: "+r.left+"px;",e.setAttribute("style",n))}return t.appendChild(e),e.onclick=function(){1==o._options.exitOnOverlayClick&&(i.call(o,t),void 0!=o._introExitCallback&&o._introExitCallback.call(o))},setTimeout(function(){n+="opacity: .8;",e.setAttribute("style",n)},10),!0}function p(t){var e={};e.width=t.offsetWidth,e.height=t.offsetHeight;for(var n=0,o=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)n+=t.offsetLeft,o+=t.offsetTop,t=t.offsetParent;return e.top=o,e.left=n,e}var u=function(t){if("object"==typeof t)return new e(t);if("string"==typeof t){if(t=document.querySelector(t))return new e(t);throw Error("There is no element with given selector.")}return new e(document.body)};return u.version="0.6.0",u.fn=e.prototype={clone:function(){return new e(this)},setOption:function(t,e){return this._options[t]=e,this},setOptions:function(t){var e,n=this._options,o={};for(e in n)o[e]=n[e];for(e in t)o[e]=t[e];return this._options=o,this},start:function(){t:{var t=this._targetElement,e=[],r=this;if(this._options.steps)for(var l=[],a=0,l=this._options.steps.length;a<l;a++){var p=this._options.steps[a];p.step=a+1,"string"==typeof p.element&&(p.element=document.querySelector(p.element)),e.push(p)}else{if(l=t.querySelectorAll("*[data-intro]"),1>l.length)break t;for(a=0,p=l.length;a<p;a++){var u=l[a],h=parseInt(u.getAttribute("data-step"),10);0<h&&(e[h-1]={element:u,intro:u.getAttribute("data-intro"),step:parseInt(u.getAttribute("data-step"),10),tooltipClass:u.getAttribute("data-tooltipClass"),position:u.getAttribute("data-position")||this._options.tooltipPosition})}for(a=h=0,p=l.length;a<p;a++)if(u=l[a],null==u.getAttribute("data-step")){for(;"undefined"!=typeof e[h];)h++;e[h]={element:u,intro:u.getAttribute("data-intro"),step:h+1,tooltipClass:u.getAttribute("data-tooltipClass"),position:u.getAttribute("data-position")||this._options.tooltipPosition}}}for(a=[],l=0;l<e.length;l++)e[l]&&a.push(e[l]);e=a,e.sort(function(t,e){return t.step-e.step}),r._introItems=e,c.call(r,t)&&(n.call(r),t.querySelector(".introjs-skipbutton"),t.querySelector(".introjs-nextbutton"),r._onKeyDown=function(e){27===e.keyCode&&1==r._options.exitOnEsc?(i.call(r,t),void 0!=r._introExitCallback&&r._introExitCallback.call(r)):37===e.keyCode?o.call(r):39!==e.keyCode&&13!==e.keyCode||(n.call(r),e.preventDefault?e.preventDefault():e.returnValue=!1)},r._onResize=function(){s.call(r,document.querySelector(".introjs-helperLayer"))},window.addEventListener?(this._options.keyboardNavigation&&window.addEventListener("keydown",r._onKeyDown,!0),window.addEventListener("resize",r._onResize,!0)):document.attachEvent&&(this._options.keyboardNavigation&&document.attachEvent("onkeydown",r._onKeyDown),document.attachEvent("onresize",r._onResize)))}return this},goToStep:function(t){return this._currentStep=t-2,"undefined"!=typeof this._introItems&&n.call(this),this},exit:function(){i.call(this,this._targetElement)},refresh:function(){return s.call(this,document.querySelector(".introjs-helperLayer")),this},onbeforechange:function(t){if("function"!=typeof t)throw Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=t,this},onchange:function(t){if("function"!=typeof t)throw Error("Provided callback for onchange was not a function.");return this._introChangeCallback=t,this},oncomplete:function(t){if("function"!=typeof t)throw Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=t,this},onexit:function(t){if("function"!=typeof t)throw Error("Provided callback for onexit was not a function.");return this._introExitCallback=t,this}},t.introJs=u});