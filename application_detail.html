<!DOCTYPE html>
<html>
<body>

<!-- header -->
<div class="include" data-include="header"></div>
<!-- end header -->

<section class='aside-section'>
    <section class="hbox stretch">
        <!-- .aside -->
        <aside class="bg-Green lter aside hidden-print include" data-include="aside" id="nav"></aside>
        <!-- /.aside -->

        <section id="content">
            <section class="hbox stretch">
                <!-- 如果没有三级导航 这段代码注释-->
                <aside class="bg-green lter aside-sm hidden-print ybox" id="subNav">
                    <section class="vbox">
                        <div class="wrapper header"><span class="margin_lr"></span><span class="margin_lr border-left">&nbsp;应用管理</span>
                        </div>
                        <section class="scrollable">
                            <div class="slim-scroll">
                                <!-- nav -->
                                <nav class="hidden-xs">
                                    <ul class="nav">
                                        <li>
                                            <div class="aside-li-a active">
                                                <a href="application_list.html">应用列表</a>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="aside-li-a">
                                                <a href="application_create.html">创建应用</a>
                                            </div>
                                        </li>
                                    </ul>
                                </nav>
                            </div>
                        </section>
                    
                    </section>
                </aside>
                <aside>
                    <section class="vbox xbox">
                        <!-- 如果没有三级导航 这段代码注释-->
                        <div class="head-box"><a href="#subNav" data-toggle="class:hide"> <i
                                class="fa fa-angle-left text"></i> <i class="fa fa-angle-right text-active"></i> </a>
                        </div>
                         <div class="wrapper header">
                           <span class="border-left">&nbsp;应用详情</span>
                         </div>
                        <section class="scrollable wrapper w-f">
                            <section class="panel panel-default yunhuni-personal">
                                <div class="row m-l-none m-r-none bg-light lter">
                                    <div class="col-md-12 padder-v fix-padding">
                                        <a href="application_create.html" class="btn btn-primary query">应用编辑</a>
                                    </div>
                                </div>
                            </section>
                            <section class="panel panel-default pos-rlt clearfix ">
                                <div class="row ">
                                    <div class="col-md-1 remove-padding width-130">
                                        应用名称：
                                    </div>
                                    <div class="col-md-10 ">
                                        <p>DEMO001</p>
                                    </div>
                                </div>
                                <div class="row ">
                                    <div class="col-md-1 remove-padding width-130">
                                        APPID：
                                    </div>
                                    <div class="col-md-10 ">
                                        <p>12345678901234567890123456789012</p>
                                    </div>
                                </div>
                                <div class="row ">
                                    <div class="col-md-1 remove-padding width-130">
                                        监听通知：
                                    </div>
                                    <div class="col-md-10 ">
                                        <p>启用监听    启用了鉴权</p>
                                        <p><a href="#" >http://www.xxx.bb.com/callback</a></p>
                                    </div>
                                </div>
                                <div class="row ">
                                    <div class="col-md-1 remove-padding width-130">
                                        绑定测试号：
                                    </div>
                                    <div class="col-md-3 " >
                                        <span href="">13971068693</span>
                                        <span href="">13971068693</span>
                                        <span href="">13971068693</span>
                                        <span href="">13971068693</span>
                                        <span href="">13971068693</span>
                                    </div>
                                    <div class="col-md-4 " >
                                        <a class="modalShow" data-id="one">绑定交互测试号</a>
                                    </div>
                                </div>
                                <div class="row border-block"></div>
                            </section>
                            <section class="panel panel-default pos-rlt clearfix application-tab">
                                <ul id="myTab" class="nav nav-tabs">
                                    <li class="active">
                                        <a href="#play" data-toggle="tab">
                                            放音媒体库
                                        </a>
                                    </li>
                                    <li><a href="#voice" data-toggle="tab">录音文件</a></li>
                                    <li class="right"><a href="#" class="btn btn-primary defind modalShow" data-id="four" >上传放音文件</a></li>
                                </ul>
                                <div id="myTabContent" class="tab-content" style="">
                                    <div class="tab-pane fade in active" id="play">
                                        <table class="table table-striped cost-table-history tablelist">
                                            <thead>
                                            <tr>
                                                <th width="20%">标题</th>
                                                <th width="10%">状态</th>
                                                <th width="10%">大小</th>
                                                <th width="45%">备注</th>
                                                <th width="10%">操作</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr>
                                                <td class="voice-format">1.wav</td>
                                                <td class="success" >待审核</td>
                                                <td>1M</td>
                                                <td id="remark-a-1">你好备注</td>
                                                <td class="operation">
                                                    <a href="">删除</a> <span ></span>
                                                    <a class="editremark" data-id="1" data-type="2">修改备注</a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="voice-format">1.wav</td>
                                                <td ><span class="nosuccess">待审核</span></td>
                                                <td>1M</td>
                                                <td id="remark-a-2">你好备注</td>
                                                <td class="operation">
                                                    <a href="">删除</a> <span ></span>
                                                    <a class="editremark" data-id="2" data-type="1">设置备注</a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="voice-format">1.wav</td>
                                                <td ><span class="nosuccess">待审核</span></td>
                                                <td>1M</td>
                                                <td id="remark-a-3">你好备注</td>
                                                <td class="operation">
                                                    <a href="">删除</a> <span ></span>
                                                    <a class="editremark" data-id="3" data-type="2">修改备注</a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="voice-format">1.wav</td>
                                                <td ><span class="success">已审核</span></td>
                                                <td>1M</td>
                                                <td id="remark-a-4">你好备注</td>
                                                <td class="operation">
                                                    <a href="">删除</a> <span ></span>
                                                    <a class="editremark" data-id="4" data-type="1">设置备注</a>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                        <section class="panel panel-default yunhuni-personal">
                                            <nav class='pageWrap'>
                                                <ul class="pagination">
                                                    <li>
                                                        <a href="#" aria-label="Previous">
                                                            <span aria-hidden="true">&laquo;</span>
                                                        </a>
                                                    </li>
                                                    <li class="active"><a href="#">1</a></li>
                                                    <li><a href="#">2</a></li>
                                                    <li><a href="#">3</a></li>
                                                    <li><a href="#">4</a></li>
                                                    <li><a href="#">5</a></li>
                                                    <li>
                                                        <a href="#" aria-label="Next">
                                                            <span aria-hidden="true">&raquo;</span>
                                                        </a>
                                                    </li>
                                                </ul>
                                            </nav>
                                        </section>

                                    </div>
                                    <div class="tab-pane fade" id="voice">
                                        <p class="application_info">录音文件总计占用：100M <a class="modalShow right" data-id="three">批量删除</a> <a class="modalShow right" data-id="two" >批量下载</a>  </p>
                                        <table class="table table-striped cost-table-history tablelist">
                                            <thead>
                                            <tr>
                                                <th>标题</th>
                                                <th>大小</th>
                                                <th>时长</th>
                                                <th>操作</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr>
                                                <td class="voice-format">20160606122333-[sessionid]</td>
                                                <td>1M</td>
                                                <td>1'23"</td>
                                                <td class="operation">
                                                    <a href="">下载</a> <span ></span>
                                                    <a href="">删除</a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="voice-format">20160606122333-[sessionid]</td>
                                                <td>1M</td>
                                                <td>1'23"</td>
                                                <td class="operation">
                                                    <a href="">下载</a> <span ></span>
                                                    <a href="">删除</a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="voice-format">20160606122333-[sessionid]</td>
                                                <td>1M</td>
                                                <td>1'23"</td>
                                                <td class="operation">
                                                    <a href="">下载</a> <span ></span>
                                                    <a href="">删除</a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="voice-format">20160606122333-[sessionid]</td>
                                                <td>1M</td>
                                                <td>1'23"</td>
                                                <td class="operation">
                                                    <a href="">下载</a> <span ></span>
                                                    <a href="">删除</a>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                        <section class="panel panel-default yunhuni-personal">
                                            <nav class='pageWrap'>
                                                <ul class="pagination">
                                                    <li>
                                                        <a href="#" aria-label="Previous">
                                                            <span aria-hidden="true">&laquo;</span>
                                                        </a>
                                                    </li>
                                                    <li class="active"><a href="#">1</a></li>
                                                    <li><a href="#">2</a></li>
                                                    <li><a href="#">3</a></li>
                                                    <li><a href="#">4</a></li>
                                                    <li><a href="#">5</a></li>
                                                    <li>
                                                        <a href="#" aria-label="Next">
                                                            <span aria-hidden="true">&raquo;</span>
                                                        </a>
                                                    </li>
                                                </ul>
                                            </nav>
                                        </section>
                                    </div>

                                </div>
                            </section>

                        </section>
                    </section>
                </aside>
            </section>
            <a href="#" class="hide nav-off-screen-block" data-toggle="class:nav-off-screen" data-target="#nav"></a>
        </section>
    </section>
</section>



<!---mobilebox-->
<div class="shadow-bg" id="show-bg"></div>
<div class="modal-box application-detail-box" id="modalone" style="display: none">
    <div class="title">绑定测试电话号码<a class="close_a modalCancel" data-id="one"></a></div>
    <div class="content">
        <p class="info">注意：一个测试号码同一时间只能绑定到一个应用，绑定完成后，其之前的绑定关系将会被解除</p>
        <div class="input-box ">
            <form action="" method="">
                <div class="row mt-20">
                    <div class="col-md-4">  <input type="checkbox" class="check-box" />13971068693</div>
                    <div class="col-md-4">  <input type="checkbox" class="check-box" />13971068693</div>
                    <div class="col-md-4">  <input type="checkbox" class="check-box" />13971068693</div>
                </div>
                <div class="row mt-20">
                    <div class="col-md-4">  <input type="checkbox" class="check-box" />13971068693</div>
                    <div class="col-md-4">  <input type="checkbox" class="check-box" />13971068693</div>
                    <div class="col-md-4">  <input type="checkbox" class="check-box" />13971068693</div>
                </div>
            </form>
        </div>
    </div>
    <div class="footer">
        <a class="cancel modalCancel" data-id="one">返回</a>
        <a class="sure modalSureOne" data-id="one">确认</a>
    </div>
</div>
<!---批量下载--->
<div class="modal-box application-detail-box" id="modaltwo" style="display:none ">
    <div class="title">批量下载<a class="close_a modalCancel" data-id="two"></a></div>
    <div class="content">
        <p class="text-center mt-20">批量下载允许下载3天范围内的录音文件 <span class="tips-error moadltipstwo text-center"></span></p>
        <div class="input-box ">
            <div class="row text-center">
                <input type="text" value="" class="input-text datepicker" id="datestarttwo"  /> 到
                <input type="text" value="" class="input-text datepicker" id="dateendtwo" />
                <button class="btn btn-primary findfile" data-id="two">查询</button>
            </div>

            <div class="row scrolldiv" id="scrolldivtwo">
                <p>--扫描文件</p>
                <p>--共计  200  个文件   200M</p>
                <p>--开始压缩打包</p>
                <p>--压缩打包完成 20160601-20160603-001.zip</p>
                <p>--压缩包生成完成：<a href="#" target="_blank">点击下载</a></p>
            </div>
        </div>
    </div>
    <div class="footer">
        <a class="cancel modalCancel" data-id="two">返回</a>
        <a class="sure modalSureTwo" data-id="two">确认</a>
    </div>
</div>

<!---批量删除--->
<div class="modal-box application-detail-box" id="modalthree" style="display:none ">
    <div class="title">批量删除<a class="close_a modalCancel" data-id="three"></a></div>
    <div class="content">
        <p class="text-center mt-20">批量删除录音文件 <span class="tips-error moadltipsthree text-center"></span></p>

        <div class="input-box ">
            <div class="row text-center">
                <input type="text" value="" class="input-text datepicker" id="datestartthree" /> 到
                <input type="text" value="" class="input-text datepicker" id="dateendthree" />
                <button class="btn btn-primary findfile" data-id="three">查询</button>
            </div>

            <div class="row scrolldiv" id="scrolldivthree" >

            </div>

        </div>
    </div>
    <div class="footer">
        <a class="cancel modalCancel" data-id="three">返回</a>
        <a class="sure modalSureThree" data-id="three">确认</a>
    </div>
</div>

<!---上传文件--->
<div class="modal-box application-detail-box" id="modalfour" style="display:none ">
    <div class="title">文件上传<a class="close_a modalCancel" data-id="four"></a></div>
    <div class="content">
        <p class="info">只支持 .wav 格式的文件，请将其他格式转换成wav格式（编码为 8k、16位）后再上传；单条语音最大支持 5M；文件名称只允许含英文、数字，其他字符将会造成上传失败。  </p>
        <form action="" method="post" id="">
            <div class="input-box ">
                <div class="row  mt-10">
                    <div class="col-md-6">
                        <button type="button" class="btn btn-primary singlefile" >单文件上传</button>
                    </div>
                    <input type="file" value="" class="input-text form-control"  id="singlefile" style="display: none" />
                </div>
                <div class="row text-left mt-10">
                    <div class="col-md-12">
                        <button type="button" class="btn btn-primary batchfile">批量上传</button>
                    </div>
                    <input type="file" value="" class="input-text form-control" id="batchfile" style="display: none" multiple="multiple" />
                    <p>允许一次选择20个文件，并且建议在网络环境好的情况下使用，以防止上传错误文件</p>
                </div>
            </div>
        </form>
    </div>
    <div class="footer">
        <a class="cancel modalCancel" data-id="four">返回</a>
        <a class="sure modalSureFour" data-id="four">确认</a>
    </div>
</div>







<script src="js/app.v2.js"></script> <!-- Bootstrap --> <!-- App -->
<script src="js/charts/flot/jquery.flot.min.js" cache="false"></script>
<script src="js/bootbox.min.js"></script>
<script src="js/charts/flot/demo.js" cache="false"></script>
<script src="js/include.js"></script>
<script src="bower_components/bootstrapvalidator/dist/js/bootstrapValidator.min.js"></script>
<script type="text/javascript" src='./js/bootstrap-datepicker/js/bootstrap-datepicker.js'> </script>
<script type="text/javascript" src='./js/bootstrap-datepicker/locales/bootstrap-datepicker.zh-CN.min.js'> </script>
<script type="text/javascript" src='./js/application/detail.js'> </script>


<script>
    /**
    *绑定测试电话号码
    */
    $('.modalSureOne').click(function(){
        var id = $(this).attr('data-id');
        hideModal(id);
    });



    /**
     * 批量下载处理
     */
    $('.modalSureTwo').click(function(){
        var id = $(this).attr('data-id');
        //异步查询文件信息


        //hideModal(id)
        //添加回调数据
        var html  = '<p>--下载成功</p>';
        $('#scrolldiv'+id).append(html);
    });


    /**
     * 查询文件
     */
    $('.findfile').click(function(){
        var id = $(this).attr('data-id');
        $('#scrolldiv'+id).html('');
        $('.moadltips'+id).html('');
        //异步查询文件信息

        //获取时间
        var starttime = $('#datestart'+id).val();
        var endtime = $('#dateend'+id).val();
        var tips = compareTime(starttime,endtime);
        if(tips){
            $('.moadltips'+id).html(tips); return false;
        }

        //添加加载文件信息
        var html  = '  <p>--共计  200  个文件   200M</p>';
        html+='<p>--统计完成</p>';
        $('#scrolldiv'+id).append(html);
    });

    /**
     * 批量删除处理
     */
    $('.modalSureThree').click(function(){
        var id = $(this).attr('data-id');
        var r=confirm("确认删除所选文件")
        if (r==true)
        {
           //提交表单确认删除
        }
        else
        {
            hideModal(id)
        }
    });

    /**
     * 文件上传地址
     */
    $('.modalSureFour').click(function(){
        var id = $(this).attr('data-id');
        hideModal(id)
    });

    /**
     * 单文件
     */
    $('.singlefile').click(function(){
        $('#singlefile').click();
    });

    /**
     * 多文件
     */
    $('.batchfile').click(function(){
        $('#batchfile').click();
    });


    /**
     * 修改/设置 备注
     * data-type 1 设置 2修改
     */
     $('.editremark').click(function(){
         $('#editmark-tips').html('');
         var id = $(this).attr('data-id');
         var type = $(this).attr('data-type');
         bootbox.setLocale("zh_CN");
         bootbox.dialog({
                     title: "设置备注",
                     message: '<div class="row">  ' +
                     '<div class="col-md-12"> ' +
                     '<form class="form-horizontal"> ' +
                     '<div class="form-group"> ' +
                     '<label class="col-md-2 control-label" for="name">备注: </label> ' +
                     '<div class="col-md-8"> ' +
                     '<input id="edit-remark-content" type="text" placeholder="" class="form-control input-md"> ' +
                     '<span class="tips-error" id="editmark-tips"></span> </div> ' +
                     '</div> ' +
                     '</div> </div>' +
                     '</form> </div>  </div>',
                     buttons: {
                         success: {
                             label: "保存",
                             className: "btn-success",
                             callback: function () {
                                var remark = $('#edit-remark-content').val();
                                if(!remark){
                                    $('#editmark-tips').html('请填写备注内容'); return false;
                                }
                                //异步请求修改数据

                                 //成功执行
                                if(type==1){
                                    $(this).html('修改备注').attr('data-type',2);
                                }
                                $('#remark-a-'+id).html(remark);
                             }
                         }
                     }
                 }
         );
     });

</script>

</body>
</html>

